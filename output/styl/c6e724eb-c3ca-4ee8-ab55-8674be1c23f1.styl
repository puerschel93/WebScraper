@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap
