@require '../../node_modules/stylus-mixins'

@import '_settings'
@import '_font'

/* stylinpug whitelist: getrekt */
.getrekt
  &, body, [role='main']
    height 100%

.getrekt__overlay
  $angle = 55deg
  $height = 5vmin
  $width = (($height / sin($angle)) * sin(90 - $angle))
  $border-color = $color--jet-black
  $background-color = shade($color--black, 25%)

  background linear-gradient((180 - $angle), $border-color 25%, transparent 25%)
    , linear-gradient((180 + $angle), $border-color 25%, transparent 25%)
    , linear-gradient((360 - $angle), $border-color 25%, transparent 25%)
    , linear-gradient($angle, $border-color 25%, transparent 25%), $background-color
  background-position ($width * -1) 0, ($width * -1) 0, 0 0, 0 0
  background-size ($width * 2) ($height * 2)

  position absolute
  height 100%
  width 100%
  top 0
  left 0
  z-index -1

.grid--full-height
  height 100%

.one-half-height
  height 50%

.promo
  display block
  height 100%
  position relative

  &:before
    background transparent
    content ''
    position absolute
    top 0
    left 0
    width 100%
    height 100%
    transition background 0.6s cubic-bezier(0.165, 0.84, 0.44, 1)

  &:hover
  &:focus
    outline 0

    &:before
      background $color--jet-black

    .promo__image
      opacity 1
      transform scale(1.15)

    .promo__content
      opacity 0

.promo__content
  color $color--white
  font-family $font--brand
  font-weight bold
  position absolute
  padding 2em
  top 0
  left 0
  width 100%
  height 100%
  text-align center
  opacity 1
  z-index 2
  transition opacity 0.2s cubic-bezier(0.165, 0.84, 0.44, 1)

  span
    background-color alpha($color--black, 95%)
    border 1px solid $color--ghost
    border-image linear-gradient(-225deg, $color--purple 0, $color--blue 30%, $color--turquoise 100%) 1% round
    display block
    font-size 2em
    margin auto
    line-height 1
    max-width rem(580)
    padding 1em
    position relative
    top 50%
    transform translateY(-50%)

    +width-min($mq--fablet)
      font-size 3.5em
      padding 0.5em 1em

    +width-min($mq--tablet)
      font-size 5em
      padding 0.25em 1em

.promo__image
  opacity 0.25
  position absolute
  padding 2em
  top 0
  left 0
  width 100%
  height 100%
  z-index 1
  transform scale(1)
  transition transform 1.2s cubic-bezier(0.165, 0.84, 0.44, 1)
    , opacity 0.4s cubic-bezier(0.19, 1, 0.22, 1)

  img
    display block
    margin auto
    max-height 60%
    position relative
    top 50%
    transform translateY(-50%)
