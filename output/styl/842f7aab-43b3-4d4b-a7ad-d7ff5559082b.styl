@import "../../styles/common.styl"

$CANONIC_WIDTH = 1440
$OFFSET = 60
$CANONIC_WIDTH_M = 375
$OFFSET_M = 35

$OFFSET_RELATIVE = $OFFSET / $CANONIC_WIDTH * 100vw

$OFFSET_RELATIVE_M = $OFFSET_M / $CANONIC_WIDTH_M * 100vw

$ARTICLE_WIDTH = ($CANONIC_WIDTH - $OFFSET) / $CANONIC_WIDTH * 100vw * 2
$SHIFT = -($CANONIC_WIDTH - $OFFSET * 2) / $CANONIC_WIDTH * 100vw

$ARTICLE_WIDTH_M = ($CANONIC_WIDTH_M - $OFFSET_M) / $CANONIC_WIDTH_M * 100vw * 2
$SHIFT_M= -($CANONIC_WIDTH_M - $OFFSET_M * 2) / $CANONIC_WIDTH_M * 100vw

$SHIFT_DURATION = 0.4s

// >> TAG STYLES

html
  font-size: ($ROOT_FONT_SIZE / $CANONICAL_SCREEN_WIDTH * 100) vw
  font-feature-settings: "liga", "dlig"
  font-kerning: normal

  +mobile()
    font-size: ($ROOT_FONT_SIZE / $CANONICAL_SCREEN_WIDTH_M * 100) vw

a
  text-decoration: none
  color: inherit

h1
  text-header()
  text-align: center
  br
    display: none
  +mobile()
    span
      text-transform: uppercase
    br
      display: inline

h2
  text-subheader()
  text-align: center
  text-stroke: 1px #000
  text-fill-color: transparent
  -webkit-text-stroke: 1px #000
  -webkit-text-fill-color: transparent
  margin-top: pxToRem(30)
  +mobile()
    margin-top: pxToRem(5)

h3
  text-section-header()
  text-align: center
  margin: pxToRem(85) auto pxToRem(21)
  max-width: pxToRem(1005)
  text-transform: uppercase
  +mobile()
    margin: pxToRem(60) auto pxToRem(12)

p
  margin: 0 auto
  max-width: pxToRem(900)
  text-body()
  hyphens: auto
  b
    font-weight: normal
    text-highlight()

*[lang="en"]
  p:not(.article-info)
    text-body-alt()

p + p
  text-indent: pxToRem(50)

.article-info + p
  margin-top: pxToRem(30)
  text-indent: 0

blockquote
  text-subheader()
  +mobile()
    font-size: pxToRem(24)
    line-height: (28 / 24)

img
  width: 100%

.content
  overflow: hidden

// << TAG STYLES

// >> OVERLAY
.overlay
  position: fixed
  width: $OFFSET_RELATIVE
  height: 100%
  top: 0
  // cursor: pointer
  z-index: 100
  +mobile()
    width: $OFFSET_RELATIVE_M
.russian .overlay
  left: 0
  cursor: url("~/assets/images/eng.png"), pointer
.english .overlay
  right: 0
  cursor: url("~/assets/images/rus.png"), pointer
// << OVERLAY

// >> FOOTER
.footer
  display: flex
  width: $ARTICLE_WIDTH
  transition: transform $SHIFT_DURATION ease-in-out
  +mobile()
    width: $ARTICLE_WIDTH_M
  &-part
    flex: 1
    line-height: 0
    img
      width: 100%

.russian .footer
  transform: translateX($SHIFT)
  +mobile()
    transform: translateX($SHIFT_M)

// << FOOTER

// >> HEADER
.header
  display: flex
  position: fixed
  top: 0
  left: 0
  width: $ARTICLE_WIDTH
  transition: transform $SHIFT_DURATION ease-in-out
  z-index: 50
  +mobile()
    width: $ARTICLE_WIDTH_M
  &-part
    flex: 1
    display: flex
    justify-content: space-between
    align-items: flex-start
    height: pxToRem(100)
    padding: pxToRem(12) pxToRem(24)
    transition: background $SHIFT_DURATION ease-in-out
    +mobile()
      height: pxToRem(50)
      padding: pxToRem(12)
    a::before
      display: inline-block
      content: "â†’"
      transform: rotate(-135deg) translate(pxToRem(-4), pxToRem(-4))
    .switch-lang-button
      cursor: pointer
      border: 0
      background-color: inherit

.russian .header
  transform: translateX($SHIFT)
  +mobile()
    transform: translateX($SHIFT_M)

.english
  .header-part-english
    background: linear-gradient(0deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 1) 50%);
  .header-part-russian
    background: linear-gradient(0deg, rgba(0, 0, 0, 0) 0, rgba(0, 0, 0, 1) 50%);

.russian
  .header-part-russian
    background: linear-gradient(0deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 1) 50%);
  .header-part-english
    background: linear-gradient(0deg, rgba(0, 0, 0, 0) 0, rgba(0, 0, 0, 1) 50%);

// << HEADER

// >> ARTICLE
.spacing-box
  height: pxToRem(35)

.cover-box .article-part
  padding-top: pxToRem(40)

.cover-box video
  width: 100%
  object-fit: cover

.date
  text-align: center
  text-stroke: 1px #000;
  text-fill-color: transparent;
  -webkit-text-stroke: 1px #000;
  -webkit-text-fill-color: transparent;
  font-variant-numeric: oldstyle-nums;
  letter-spacing: pxToRem(pxToRem(-2));
  text-subheader();
  line-height: normal;

.article
  width: $ARTICLE_WIDTH
  min-height: 300vh
  transition: transform $SHIFT_DURATION ease-in-out
  +mobile()
    width: $ARTICLE_WIDTH_M

  // >> PARTS
  &-part-box
    display: flex
  &-part
    flex: 1
    transition: background-color $SHIFT_DURATION ease-in-out, color $SHIFT_DURATION ease-in-out
    padding: 0 pxToRem(42)
    +mobile()
      padding: 0 pxToRem(12)
  .russian &-part-english
    background-color: black
    color: white
  .english &-part-russian
    background-color: black
    color: white
  &-info-box &-part
    padding-bottom: pxToRem(60)
  &-info
    margin-top: pxToRem(312)
    text-caption()
    line-height: (24 / 20)
    text-align: center
    +mobile()
      margin-top: pxToRem(150)
    a
      text-decoration: underline
  // << PARTS

.russian .article
  transform: translateX($SHIFT)
  +mobile()
    transform: translateX($SHIFT_M)

// << ARTICLE

// >> ILLUSTRATIONS

.illustration
  margin: pxToRem(60) auto
  +mobile()
    margin: pxToRem(50) auto

.text-caption
  +mobile()
    margin-left: 0 !important

.illustration-1
  max-width: pxToRem(759)

.illustration-2
  max-width: pxToRem(1112)
  .text-caption
    margin-left: pxToRem(176)

.illustration-3
  max-width: pxToRem(759)
  margin-bottom: pxToRem(30)

.illustration-4
  max-width: pxToRem(1005)
  margin: 0 auto pxToRem(60)
  .text-caption
    margin-left: pxToRem(122)

.illustration-5
  max-width: pxToRem(1067)
  margin-bottom: pxToRem(30)
  .text-caption
    margin-left: pxToRem(176)

.illustration-6
  max-width: pxToRem(726)
  margin: 0 auto pxToRem(60)

// << ILLUSTRATIONS

// >> QUOTES
.quote-1
  blockquote
    margin: pxToRem(60) 0 pxToRem(120)
    +mobile()
      margin: pxToRem(50) 0

.quote-2
  blockquote
    margin: pxToRem(60) 0 pxToRem(70)
    +mobile()
      margin: pxToRem(50) 0

.quote-3
.quote-4
  blockquote
    margin: pxToRem(60) 0
    +mobile()
      margin: pxToRem(50) 0
// << QUOTES
