@import 'mq'

@import 'functions'
@import 'keyframes'

colors = {
  main: #4FB3D9,
  correct: #4CBC72,
  incorrect: #D95050,
  gray: #696969,
}

.otkritie
  position: relative
  z-index: 99
  display: flex
  align-items: flex-start
  width: 1080px
  max-width: 100%
  min-height: 600px
  padding: 0 10px
  font-family: Roboto, sans-serif
  font-size: 16px
  line-height: normal
  text-size-adjust: 100%
  border-radius: 5px
  background-color: #fff
  overflow: hidden

  &.is-result
    padding: 0
    align-items: center

  & *
  & *:before
  & *:after
    box-sizing: border-box

  svg
    display block
    fill currentColor
    pointer-events none

  & b
    font-weight: 700

  & button
    font-family: inherit
    outline: none
    cursor: pointer
    appearance: none

  &__logo
    position: absolute
    z-index: 2
    top: 20px
    right: 25px
    width: 98px
    height: 26px
    border: 0 !important
    transition: opacity .2s

    &:hover
      opacity: .6

      @media (hover none), (hover on-demand)
        opacity: 1

    & svg
      width: 100%
      height: 100%

  &__question
    position: relative
    width: 400px
    max-width: 100%
    margin: 0 auto
    padding-top: 60px

  &__cards
    position: relative
    z-index: 3
    height: 416px
    perspective: 1000px

  &__next-cards
    position: absolute
    z-index: 1
    top: 100%
    left: 0
    right: 0

    & > div
      position: absolute
      left: 0
      right: 0
      margin: 0 auto
      width: 100%
      height: 400px
      border-radius: 10px
      background-color: colors.main
      box-shadow: 0 3px 3px rgba(0,0,0,.1)
      transform-origin : 50% 100%
      overflow: hidden

      ^[0].is-answered &
        background-color: #C4C4C4

      &:nth-child(1)
        z-index: 3
        bottom: -5px
        transform: scale(.96)

      &:nth-child(2)
        z-index: 2
        bottom: -10px
        transform: scale(.92)

      &:nth-child(3)
        bottom: -15px
        transform: scale(.88)

  &-next-card
    position: relative
    display: flex
    flex-direction column
    height: 416px
    overflow: hidden
    border: 2px solid colors.main
    border-radius: 15px
    background-color: #fff
    user-select: none
    filter: blur(6px)

    ^[0].is-answered &
      border-color: #C4C4C4

    &__head
      flex-shrink: 0
      position: relative
      height: 240px
      background-color: #F4F4F4

    &__bottom
      display: flex
      justify-content: center
      align-items: center
      height: 100%
      background-color: colors.main

      ^[0].is-answered &
        background-color: #C4C4C4

  &__card
    position: relative
    z-index: 2
    width: 100%
    height: 416px
    transform-style: preserve-3d
    transform: translate3d(0,0,0)
    transition: transform .6s linear
    will-change: transform

  &-card
    position: absolute
    z-index: 1
    top: 0
    left: 0
    right: 0
    display: flex
    flex-direction column
    width: 100%
    height: 416px
    overflow: hidden
    border: 2px solid colors.main
    border-radius: 15px
    background-color: #fff
    box-shadow: 0 3px 3px rgba(0,0,0,.1)
    user-select: none
    cursor: grab
    backface-visibility: hidden
    transform: translate3d(0,0,0)

    &.is-back
      cursor: default
      transform: translate3d(0,0,0) rotateY(180deg)

    &.is-correct
      border-color: colors.correct

    &.is-incorrect
      border-color: colors.incorrect

    &__pages
      position: absolute
      z-index: 2
      top: 10px
      left: 0
      right: 0
      color: #BEBEBE
      font-size: 12px
      text-align: center
      transform: translate3d(0,0,0)

    &__head
      flex-shrink: 0
      position: relative
      z-index: 1
      height: 270px
      padding: 38px 20px 0
      background-color: #fff
      transform: translate3d(0,0,0)

      ^[-1].is-back &
        height: 170px

    &__bottom
      display: flex
      padding: 20px 22px 0
      height: 100%
      background-color: colors.main
      transform: translate3d(0,0,0)

      ^[-1].is-correct &
        padding: 26px 36px 0
        background-color: colors.correct

      ^[-1].is-incorrect &
        padding: 26px 36px 0
        background-color: colors.incorrect

    &__text-from
      color: colors.main
      font-size: 24px
      line-height: normal

    &__text-to
      color: #fff
      font-size: 22px
      line-height: 1.3em

    &__answer-title
      color: #fff
      font-size: 22px
      font-weight: 700

    &__answer-text
      margin-top: 15px
      color: #fff
      font-size: 17px

  &__controls
    display: flex
    justify-content: center
    align-items: center
    margin-top: 30px

  &__option
    position: relative
    margin: 0 2px

  &__option-hint
    position: absolute
    top: 0
    bottom: 0
    display: flex
    align-items: center
    height: 36px
    margin: auto 0
    opacity: .5

    & > svg
      flex-shrink: 0
      width: 34px
      height: 36px
      margin: 0 auto

    & > div
      width: 120px
      font-size: 14px
      line-height: 16px
      text-align: center

    &--left
      right: calc(100% + 15px)

    &--right
      left: calc(100% + 15px)

  &__btn
    width: 120px
    height: 50px
    padding: 0
    font-size: 20px
    border: 1px solid colors.main
    background-color: #fff
    transition: opacity .2s

    &:hover
      opacity: .6

      @media $mq.notHover
        opacity: 1

    &--next
      border-color: #F0D4DD

  &-result
    width: 786px
    max-width: 100%
    margin: 0 auto

    &__head
      position: relative
      padding: 30px 38px
      color: #fff
      border-radius: 10px
      background-color: colors.main

    &__head-inner
      position: relative
      z-index: 1

    &__bottom
      position: relative
      margin-top: 15px
      padding: 16px 38px 28px
      border: 1px solid colors.main
      border-radius: 10px

    &__result
      font-size: 14px

    &__title
      width: 400px
      max-width: 100%
      margin-top: 10px
      font-size: 28px
      font-weight: 700
      line-height: 1.3em

    &__share
      margin-top: 35px

    &__restart-btn
      display: flex
      align-items: center
      margin-top: 10px
      font-size: 14px
      cursor: pointer
      transition: opacity .2s

      & svg
        margin-left: 8px

      &:hover
        opacity: .6

        @media $mq.notHover
          opacity: 1

    &__text
      position: relative
      z-index: 1
      width: 480px
      max-width: 100%
      font-size: 16px
      line-height: 1.375em

      & p
        padding: 0
        margin: 0 !important
        font-size: inherit !important
        line-height: inherit !important

        &:not(:last-child)
          margin-bottom: 1.563em !important

      & ul

        & li::before
          content: 'â€¢'
          margin-right: 6px

        &:not(:last-child)
          margin-bottom: 1.563em !important


  &-help
    position: absolute
    z-index: 99
    top: 0
    bottom: 0
    left: 0
    right: 0
    width: 100%
    height: 100%
    display: flex
    justify-content: center
    align-items: center
    background-color: rgba(0,0,0,.8);

    &__inner
      display: flex
      flex-direction: column
      align-items: center
      max-width: 220px

    &__icon
      color: colors.main

    &__text
      margin-top: 20px
      color: #ffffff
      font-size: 18px
      font-weight: 700
      line-height: 21px

      & p
        padding 0
        margin 0 !important
        line-height inherit !important

        &:not(:last-child)
          margin-bottom: 20px !important

    &__btn
      width: 150px
      height: 50px
      padding: 0
      margin-top: 34px
      color: #fff
      font-size: 18px
      font-weight: 700
      border: none
      border-radius: 10px
      background-color: colors.main

  .likely
    &--custom
      display: flex

    &__widget
      flex-shrink: 0
      display: flex
      align-items: center
      justify-content: center
      min-width: 58px
      height: 44px
      border: 1px solid currentColor
      background-color: transparent
      cursor: pointer

      &:not(:last-child)
        margin-right: 5px

      &:hover
        opacity: .6

      @media $mq.iphone6
        &:not(:last-child)
          margin-right: 10px

      @media $mq.notMobile
        &--facebook
          padding: 0 20px 0 8px

    &__counter
      display: none

    &__icon
      background-color: transparent

      & svg
        display: block
        width: 24px
        height: @width
        fill: currentColor

      &--vkontakte
        & svg
          width: 28px
          height: @width

      &--facebook

        @media $mq.notMobile
          margin-right: 6px

    &__button
      display: none
      line-height: 1

      @media $mq.notMobile
        display: block
