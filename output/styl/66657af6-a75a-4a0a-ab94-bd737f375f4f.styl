@import '../../node_modules/nib'
@import './slidebox'

normalize-css()
base()

max-page-width = 900px
divider-border = solid 1px #eee
header-font = Montserrat, sans-serif
body-font = 'Questrial', sans-serif

html
  font-size: 100%

button, input, select, textarea
  font-family: header-font

a:focus
  outline: thin dotted

p, pre
  margin: 1em 0

blockquote
  margin: 1em 40px

h1, h2, h3
  text-transform: uppercase
  font-weight: 400

h1
  font-size: 2em
  margin: 0.67em 0

h2
  font-size: 1.5em
  margin: 0.83em 0

h3
  font-size: 1.17em
  margin: 1em 0

h4
  font-size: 1em
  margin: 1.33em 0

h5
  font-size: 0.83em
  margin: 1.67em 0

h6
  font-size: 0.67em
  margin: 2.33em 0

code, kbd, pre, samp
  font-family: 'Bitstream Vera Sans Mono', Consolas, Courier, monospace, serif

pre
  white-space: pre-wrap

q
  quotes: "\201C" "\201D" "\2018" "\2019"

dl, menu, ol, ul
  margin: 1em 0
  padding: 0 0 0 40px

dl
  padding: 0

dd
  margin: 0 0 0 40px

nav ul, nav ol
  list-style: none
  list-style-image: none

figure
  margin: 0

form
  margin: 0

legend
  *margin-left: -7px

button, input, select, textarea
  font-size: 100%
  margin: 0
  vertical-align: baseline
  *vertical-align: middle

button, input
  line-height: normal

input[type="checkbox"], input[type="radio"]
  *height: 13px
  *width: 13px

textarea
  vertical-align: top

html
  margin: 0 10px

body
  background: #fff
  font-family: body-font
  font-style: normal
  color: #707070
  max-width: max-page-width
  margin: auto

img
  max-width: 100%

a
  color: #2a3272

  &:hover
    color: #2a3272

h1, h2, h3, h4, h5, h6, h1 a, h2 a, h3 a, h4 a, h5 a, h6 a, a h1, a h2, a h3, a h4, a h5, a h6
  font-family: "Istok Web", Helvetica, Arial, sans-serif
  font-style: normal
  color: #000
  text-decoration: none

h1 a:hover, h2 a:hover, h3 a:hover, h4 a:hover, h5 a:hover, h6 a:hover, a:hover h1, a:hover h2, a:hover h3, a:hover h4, a:hover h5, a:hover h6
  color: #2a3272
  text-decoration: none

blockquote
  font-family: "Istok Web", Helvetica, Arial, sans-serif
  color: #000

body > p > img
  display: block
  margin: auto

header
  padding: 20px 0
  border-bottom: divider-border
  font-family: header-font
  font-size: 13px
  letter-spacing: 0.5px

  img, #logo
    height: 80px

  a
    text-decoration: none
    color: #111
    text-transform: uppercase

  ul, a, #nav-button
    vertical-align: top

  ul, li
    margin: 0
    padding: 0

  nav
    line-height: 80px

  a
    padding: 0 10px
    display: inline-block

    &:hover
      color: lighten(#111, 75%)

  @media only screen and (min-width: 701px)
    ul, li, nav
      display: inline-block

    nav
      float: right

    ul
      list-style-type: none

    #nav-button
      display: none

@media only screen and (max-width: 700px)
  nav
    position: fixed
    z-index: 1000
    height: 100%
    width: 250px
    top: 0
    right: -250px
    background-color: #fff
    overflow: auto
    display: block
    border-left: divider-border
    overflow-x: hidden

    li
      border-bottom: divider-border

      a
        width: 100%
        box-sizing: border-box

  body, nav
    transition: right 0.3s ease

  #nav-button
    size: 30px
    margin: ((80px - 30px) / 2) 0
    display: inline-block
    float: right
    position: relative
    cursor: pointer
    transform: rotate(0deg)
    transition: .5s ease-in-out

    span
      display: block
      position: absolute
      height: 2px
      width: 30px
      background-color: #111
      border-radius: 2px
      opacity: 1
      left: 0
      border-radius: 2px
      transform: rotate(0deg)
      transition: .25s ease-in-out

      &:nth-child(1)
        top: 0

      &:nth-child(2), &:nth-child(3)
        top: 8px

      &:nth-child(4)
        top: 16px

  body
    position: relative
    right: 0

    &.menu-active
      right: 250px

      #nav-button
        margin-right: 15px

        span:nth-child(1), span:nth-child(4)
          top: 10px
          width: 0
          left: 50%

        span:nth-child(2)
          transform: rotate(45deg)

        span:nth-child(3)
          transform: rotate(-45deg)

      nav
        right: 0

// garbage css for getting services page to have 2 "columns" that are staggered,
// without messing up markdown-generated markup.
body#services
  @media only screen and (max-width: 900px)
    // in layout.marko we have some code for moving all the images out of their
    // p tags. since that doesn't match the default format, this handles
    // re-centering them
    > img
      margin: auto
      display: block

  @media only screen and (min-width: 901px)
    h2
      clear: both

      &:nth-of-type(2n + 1)
        margin-left: 60%
        padding-left: 20px

    > img
      width: 60%
      padding-bottom: 80px
      margin-top: -43px // magic number

      &:nth-of-type(2n + 1)
        float: left
        padding-right: 20px

      &:nth-of-type(2n)
        float: right
        padding-left: 20px

    > p, > ul
      overflow: hidden

    footer
      clear: both

#portfolio-index
  image-padding = 10px

  h2 .count
    color: lighten(#111, 75%)

  ul
    list-style-type: none
    font-size: 0
    margin: 0 (-1 * image-padding)
    padding: image-padding 0

  li, a
    display: inline-block

  a
    position: relative

    &::after
      content: ''
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0
      background-color: white
      background-image: url('/img/icon-search.svg')
      background-repeat: no-repeat
      background-position: center
      opacity: 0
      transition: opacity 0.2s ease

    &:hover::after
      opacity: 0.6

  li
    margin: 0
    padding: image-padding

    // 3 images wide at max-width, minus space for padding. there are 3 images,
    // each image has padding on 2 sides, except the 2 images on the furthest
    // left and right sides
    images-in-row = 6
    img
      width: (max-page-width / images-in-row) - @padding * ((images-in-row * 2 - 2) / images-in-row)

      // we explicitly set the height so the layout doesn't change as the page
      // loads
      height: @width

#testimonials
  text-align: center

  .company
    color: lighten(#111, 75%)

#portfolio-entry-navigation
  font-family: header-font
  text-transform: uppercase
  border-top: divider-border
  padding: 20px 0
  margin: 0
  position: relative
  font-size: 13px
  letter-spacing: 0.5px

  // when the previous button is missing, we need to explicitly set the height
  height: 16px

  a
    text-decoration: none
    color: #111

  .previous:before
    content: '\2190'
    margin-right: 10px
    font-size: 20px
    line-height: 16px

  .next:after
    content: '\2192'
    margin-left: 10px
    font-size: 20px
    line-height: 16px

  .next
    right: 0
    position: absolute

.pagination span.current
  background-color: #707070

#header-shell
  border-color: #707070

.accent-color-background
  background-color: #2a3272

.accent-color-text
  color: #2a3272

a.accent-color-background.no-hover:hover
  background-color: #2a3272

a.accent-color-text.no-hover:hover
  color: #2a3272

submit, input[type="submit"]
  background-color: #2a3272

  &:hover
    background-color: #2a3272

#main-nav #main-nav-container ul.menu li.menu-item a, #main-nav.tf-mobile-menu #main-nav-container ul.menu li.menu-item ul.sub-menu li a, #tf-sub-page-nav li a
  color: #000

#main-nav #main-nav-container ul.menu li.menu-item a:hover, #main-nav.tf-mobile-menu #main-nav-container ul.menu li.menu-item ul.sub-menu li a:hover, #tf-sub-page-nav li a:hover
  color: #2a3272

#main-nav #main-nav-container ul.menu li.current-menu-item a, #main-nav #main-nav-container ul.menu li.current-page-ancestor a, #main-nav #main-nav-container ul.menu li.current-menu-ancestor a, #main-nav.tf-mobile-menu #main-nav-container ul.menu li.menu-item ul.sub-menu li.current-menu-item a, #tf-sub-page-nav li.tf-current-menu-item a
  color: #2a3272

a:hover span.accent-color-background, a:hover a.accent-color-background, a.accent-color-background:hover
  background-color: #2a3272

a.primary-color-text:hover, a span.primary-color-text:hover
  color: #2a3272

div.tf-gallery-wrapper ul.tf-gallery-list li.tf-gallery-list-item a.tf-gallery-link:hover div.tf-gallery-controls a.tf-gallery-icon, div.tf-gallery-wrapper ul.tf-gallery-list li.tf-gallery-list-item:hover div.tf-gallery-controls a.tf-gallery-icon
  background-color: #2a3272

footer
  position: relative
  border-top: divider-border

  .footer-column
    box-sizing: border-box

    @media only screen and (min-width: 600px)
      padding: 0 10px
      width: 50%
      display: inline-block
      vertical-align: top

    img
      margin: 0 10px

      &:first-child
        margin-left: 0

    &:first-child
      padding-left: 0

    &:last-child
      padding-right: 0

#vendor-list
  padding: 0
  list-style-type: none

  li
    border-top: divider-border
    padding: 7px 0

    &:first-child
      padding-top: 0
      border-top: none


#lower-footer
  height: 40px
  line-height: 40px
  border-top: divider-border
  padding: 0 20px

  a.social
    margin: 0 3px

    img
      vertical-align: middle

  p
    display: block
    max-width: 50%
    font-size: 11px

    &#lower-left-text
      float: left

    &#lower-right-text
      float: right
      text-align: right
