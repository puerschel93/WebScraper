.g-header-wrap
  position: relative
  // background-color: color-brand-dark
  background-size: cover
  background-position: 50% 50%

.g-header-overlay
  position: absolute
  top: 0
  bottom: 0
  left: 0
  right: 0
  background-color: hero-mask
  z-index: 1

.g-header-nav-bar,
.g-header-region
  position: relative
  z-index: 2

.g-header-nav-bar
  z-index: 3
  background-color white
  border-bottom 4px solid color-brand

.g-header
  @extend .clearfix
  @extend .type-serif
  text-align: right
  color: color-light

  @media mq-med
    position: relative

  .mod-dropdown
    @extend .type-sans
    display: block
    position: static
    z-index: 10

    @media mq-med
      position: absolute
      display: none

.g-header-logo
  position: relative
  float: left
  z-index: 10
  font-size: 2.75rem
  line-height: g-header-height - 0.5rem
  color: color-brand
  > *
    display: inline-block
    vertical-align: middle
    margin-right: 0.75rem
  &:hover
    color: color-brand-cool

.g-header-logo-icon
  type-size(30, 1)

.g-header-logo-type
  type-size(25, 1)
  font-weight: bold
  margin-bottom: -3px

.g-header-search
  inline-block()
  position: relative
  color: color-type-secondary
  background-color: color-light
  width: 100%
  padding: (grid-gutter/2) 0
  border: 0
  height: 3rem

  @media mq-med
    width: 25rem
    padding: 0

  .twitter-typeahead
    width: 100%

input.g-header-search-input
  @extend .type-medium
  border-radius: 10rem
  height: g-header-search-mobile-height
  line-height: g-header-search-mobile-height
  padding: 0 g-header-search-input-padding
  color: color-type
  width: 100%

  +placeholder()
    line-height: g-header-search-mobile-height

  @media mq-med
    height: g-header-search-height
    line-height: g-header-search-height

    +placeholder()
      line-height: g-header-search-height

.g-header-search-submit
  @extend .type-medium
  background: none
  border: 0
  padding: 0
  line-height: 1em
  position: absolute
  right: g-header-search-input-padding
  top: 50%
  margin-top: -0.5em
  line-height: 1em
  color: color-green

.g-header-hamburger
  display: block
  background: none
  border: 0
  height: g-header-height

  @media mq-med
    display: none

.g-header-hamburger-bar
  display: block
  width: 2.25rem
  height: 0.35rem
  margin: 0.35rem 0
  background-color: color-light

.g-header-touts
  clear both
  @extend .type-small

.g-header-touts-row
  padding-top: space
  position: relative

.g-header-touts-section
  position: relative
  border-bottom: border

.g-header-touts-section-close
  position: absolute
  right: layout-space
  top: 50%
  margin-top: -0.5em
  padding-left: 1em // make sure it's big enough for fat fingers
  line-height: 1em !important

.g-header-touts-sponsor-img
  display: inline-block
  vertical-align: middle
  padding: (space/4)
  border: border
  border-radius: 0.4rem
  height: g-header-touts-sponsor-height
  width: g-header-touts-sponsor-height

  img
    display: block

.g-header-touts-sponsor-text
  display: inline-block
  vertical-align: middle
  margin-left: (space/2)
  line-height: 1.2 !important

.g-header-touts-cta
  display: block
  margin-top: space

  @media mq-med
    position: absolute
    top: 50%
    margin-top: -0.5em
    right: 0

.g-header-search-wrap
  position: relative
  margin-left: g-header-nav-space
  margin-bottom: space

  @media mq-med
    inline-block()
    margin-bottom: 0

  .g-header-search
    padding-right: (space/2)
    padding-left: 3rem

    @media mq-med
      max-width: 17.5rem

  .g-header-search-magnifying-glass
    position: absolute
    left: 1em
    top: 50%
    margin-top: -0.5em
    color: color-type-secondary
    @extend .type-small
    line-height: 1em

.g-flex-grid
  display: flex
  flex-direction column
  @media mq-med
    flex-direction row

.g-flex-grow
  flex-grow 1

.g-header-nav-wrap
  cursor pointer
  @media mq-med-desk
    .g-header-nav.open-nav
      display: block
      padding-bottom: 2em
      background-color: color-bgr-light

    .g-header-user-menu
      margin-top: 0 !important
      > span
        display: none

      .mod-dropdown
        border: 0
        background-color: transparent

        a
          color: color-light
          border: 0
          padding: 0

          &:hover
            background-color: transparent

.g-header-nav-items
  margin-bottom: 0

.g-header-nav-item
  margin-right: 1em

.g-header-user-menu
  width: g-header-height
  text-align: center
  &:hover
    background-color: color-light
    @media mq-med-desk
      background-color: transparent

.g-header-nav
  display: none
  position: absolute
  top: 0
  left: 0
  width: 100%
  margin: 0
  padding: g-header-height grid-page-gutter-mobile
  text-align: left
  box-shadow: 0 0.1rem 0.5rem rgba(color-black, 0.15)
  font-size: 1.5rem

  .header-link
    @extend .type-sans
    display: block
    color: color-brand
    text-transform: uppercase
    line-height: 1em
    vertical-align: text-bottom
    padding: 1.5em 0
    font-size: 1.2em
    &:hover
      color: color-brand-cool

    @media mq-med
      font-size: 1em


  .user-name
    ellipsis()

    @media mq-med
      max-width: 13rem

  @media mq-med
    float: right
    display: block
    position: relative
    text-align: inherit
    background: none
    padding: 0
    width: auto
    box-shadow: 0 0 0 0
    line-height: g-header-height

    > *
      inline-block()
      margin-left: g-header-nav-space

    .g-header-nav-item
      float: left
      margin-left: 1rem
      margin-bottom: 0

    .mod-dropdown li
      float: none

    .header-link
      &.active
        padding-bottom: 0.5em
        margin-bottom: -0.5em
        border-bottom: 1px solid color-type-light
        &:hover
          border-bottom-color: color-brand-cool

  .btn
    background-color: color-brand
    color: white
    font-weight: bold
    box-shadow: 0px 0px 2px rgba(white, 0.3)

  .mod-dropdown-trigger
    .avatar
      width: (g-header-height*0.62)
      height: (g-header-height*0.62)
    @media mq-med-desk
      margin-top: 1rem
      border-top: border-secondary

  @media mq-med-desk
    .mod-dropdown
      box-shadow: none
      a
        margin-bottom: 0
        padding: 0.5rem 1.5rem

  .credit-badge
    color: orange
    text-shadow 0px 0px 5px yellow

  .my-application-nav
    @media mq-med
      span
        display: none

  #userMenu
    white-space: nowrap
    max-width: 10em
    overflow: hidden
    text-overflow: ellipsis
    margin: 15px

  .dropdown-menu
    background-color: color-brand

    a
      margin-left: 0
      color: color-light
      &:hover
        background-color: lighten(color-brand, 10)
        color: darken(white, 15)

    @media mq-med
      margin-top: -15px

  // Duplicate bs3 style for collapsed dropdown-menu
  @media only screen and (max-width: mq-med-width)
    .dropdown-menu
      position: static
      width: auto
      margin-top: 0px
      background-color: transparent
      border: 0px none
      box-shadow: none

      // undo pull-right
      &.pull-right
        left: 0
        right: auto
        float: none !important

  .tt-dropdown-menu
    padding: 0px
    border-radius: 4px
    background-color: color-light
    width: 300px

    @media mq-med-desk
      box-shadow: 0px 1px 5px rgba(black, 0.35)

  .typeahead-question
    cursor: pointer
    padding: 0.5em
    padding-bottom: 1em
    text-align: left
    border-radius: 2px
    &:hover
      background-color: color-brand
      color: color-light

    .upvotes
      display: inline-block
      vertical-align: baseline
      background-color: #fca
      border-radius: 1em
      width: 2em
      text-align: center
      color: black

    .title
      text-transform: none
      font-weight: normal


  .notifications-menu
    @extend .mod-dropdown-trigger
    display: block

    @media mq-med-desk
      margin-bottom: 0.75rem

    @media mq-med
      inline-block()

    .mod-dropdown
      position: static
      width: 25rem
      pos-x-center 25rem
      @extend .type-small
      @extend .type-serif

      @media mq-med-desk
        position: static
        background-color: transparent

      li
        border-bottom: border
        padding: (grid-gutter/2) 0

        @media mq-med
          padding: (grid-gutter/2)

        &:last-child
          border-bottom: 0

      {class-list-header-links}
        border-bottom: 0
        padding: 0

  .notification-item
    margin-bottom: 0

  a.notifications-count
    display: none

    @media mq-med
      inline-block()

  .notifications-title
    @extend .type-large
    mod-space-top()

    @media mq-med
      padding: 0 (grid-gutter/2)

.g-header-hamburger
  float: left
  // padding: 0 grid-page-gutter-mobile
  color: color-brand

  .icon-x
    position: absolute
    opacity: 0

  &.open
    .icon-x
      position: static
      opacity: 1

    .icon-hamburger
      position: absolute
      opacity: 0

.g-header-cta-wrap
  pos-y-center-companion()
  inline-block()
  height: g-header-height

.g-header-nav-admin
  > a
    border-bottom: 0

.g-header-admithub
  @extend .type-small
  display: block
  margin-bottom: layout-space
  image img-path + 'owl-repeat-light.png' 9.1rem 5.15rem
  cursor pointer

  > *
    display: inline-block
    vertical-align: middle

.g-header-admithub-owls
  max-width: 9.1rem
  margin-right: layout-space

.g-header-aa-description-wrap
  text-align: center
  padding: 2rem 0 4rem
  border-bottom: border

.g-header-aa-description
  @extend .type-xlarge
  margin: 0 auto

/*
.g-header-user-menu
  @media mq-med
    padding: ((g-header-height - 3rem)/2rem)
*/

.g-header-user-avatar
  dim 3rem
  display: inline-block
  vertical-align: middle
  border-radius: ui-border-radius

.g-header-user-carat
  display: inline-block
  vertical-align: middle
  margin-left: (space/2)

.g-header-hamburger
  line-height: g-header-height !important
  font-size: 2.5rem

  @media mq-med
    display: none

@media mq-med-desk
  .g-header
    display: flex
    .g-header-center
      flex-grow 1
      text-align: center
      @extend .type-sans
      .title
        position: relative
        font-weight: bold
        z-index: 10
      .g-header-logo
        float: none
        .icon-logo
          margin-right: 0

@media mq-med
  .g-header-center .title
    display: none


.g-header-nav-wrap .g-header-user-menu .mod-dropdown a
  @media only screen and (max-width: mq-med-width)
    color color-brand
    padding-bottom 2em
    text-transform: uppercase
    font-size 1.2em
    font-weight bold
    &:hover
      color color-brand-cool !important

.g-header-nav .mod-dropdown-trigger
  @media only screen and (max-width: 800px)
    padding-top 1em
