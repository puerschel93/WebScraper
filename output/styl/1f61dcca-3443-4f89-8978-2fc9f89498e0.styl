// MODULE: Тумблеры

@import 'nib'

@require '_vars.styl'
@require '_mixins.styl'

$base_switch = b(4)

$distance_pc = $base_switch * 1.2
$distance_mob = $base_switch * 1.05

// BLOCK: стили контейнера для тумблера (двойной)

.switch-container
    padding 0
    dimen(100%, b(15))

    &:hover
        background-color transparent

    & input
        display none
        
    &__left
        padding b(1.5)
        dimen(auto, b(12))
        flexi(row, flex-start, center)
        position relative
        flex-basis calc(100% - 100px)
        max-width calc(100% - 100px)

        @media --q.md-
            & .menu-item__icon
                margin-left b(2.25)

    &__right
        width ($base_switch * 5)
        height inherit
        align-items center
        cursor pointer

        &:hover
            border-color transparent

        &::before
        &::after
            content ''
            height ($base_switch * 2) 
                
        &::before
            border-left 1px solid --v.divider

            @media --q.lg-
                width 15px

            @media --q.-md
                width 5px

        &::after
            @media --q.lg-
                width 16px

            @media --q.-md
                width 6px

    &__left
    &__right
        display flex
        transition $trans

        &:hover
            background-color --v.hover

// BLOCK: стили тумблера

.switch
    position relative
    border-style solid
    transition $trans

    @media --q.lg-
        margin ($base_switch * 0.59)
        width ($base_switch * 2)
        height ($base_switch * 0.8)
        border-radius ($base_switch * 0.56)
        border-width ($base_switch * 0.16)

    @media --q.-md
        margin ($base_switch * 0.985)
        width ($base_switch * 1.75)
        height ($base_switch * 0.7)
        border-radius ($base_switch * 0.49)
        border-width ($base_switch * 0.14)

    // цвет неактивного тумблера при темной теме

    .dark &
        border-color: #3d3d3d

    // цвет неактивного тумблера при светлой теме

    .light &
        border-color: #e1e1e1

    // BLOCK: стили кпужочка тумблера

    &:before
        content ''
        display block
        position absolute
        border-radius 50%
        transition $trans

        @media --q.lg-
            top: -($base_switch * 0.4)
            left: -($base_switch * 0.4)
            width ($base_switch * 1.6)
            height ($base_switch * 1.6)

        @media --q.-md
            top: -($base_switch * 0.35)
            left: -($base_switch * 0.35)
            width ($base_switch * 1.4)
            height ($base_switch * 1.4)

        // цвет кружочка неактивного тумблера при темной теме

        .dark &
            background-color: #d1d1d1

        // цвет кружочка неактивного тумблера при светлой теме

        .light &
            background-color: #c4c4c4

// BLOCK: анимация

input:checked + .switch
    border-color --v.oAccent

input:focus + .switch
    box-shadow: 0 0 1px --v.accent

input:checked + .switch:before
    background-color: --v.accent
    transform: translateX($distance_pc)

    @media --q.-md
        transform: translateX($distance_mob)