// out: false
/* timeline */ @import (reference) 'ui.less';

@timeline-card-padding:                 15px;
@timeline-steps-size:                   14px;

@timeline-line-size:                    2px;
@timeline-line-gap:                     30px;
@timeline-line-bg:                      fade(@black, 15%);
@timeline-line-bg-dark:                 fade(@white, 17.5%);

._global-vars () {
    --ui-timeline-line-bg: @timeline-line-bg;
}
._global-vars-dark () {
    --ui-timeline-line-bg: @timeline-line-bg-dark;
}

.ui-timeline {
    list-style: none; position: relative;

    &.ui-current {
        &:after { background-color: currentColor; }
        & > li {
            &:after { border-color: currentColor; }
        }
    }
    &:not(.ui-hide-lines) {
        &:after { content: ""; width: @timeline-line-size; ._bg-var(timeline-line-bg); border-radius: (@timeline-line-size / 2); position: absolute; top: 0; bottom: 0; }

        & > li {
            &:before { width: @timeline-line-gap; height: @timeline-line-size; ._bg-var(timeline-line-bg); }
            &:after {
                ._bg-var(body-bg);

                .ui-dropdown & { ._bg-var(highlighted); }
                .ui-card & { ._bg-var(card-bg); }
            }
        }
        &.ui-current {
            & > li:before { background-color: currentColor; }
        }
    }
    &:not(:last-child) { margin-bottom: @highlight-space; }

    & > li {
        display: block; position: relative;

        &:not(:last-child) { margin-bottom: @highlight-space; }
        &:after { content: ""; width: @timeline-steps-size; height: @timeline-steps-size; display: block; ._border-var(@width: @timeline-line-size; @var: timeline-line-bg); border-radius: 50%; position: absolute; top: 50%; transform: translateY(-50%); z-index: 1; }

        &.ui-current {
            &:after { border-color: currentColor; }
        }

        & > [class*="ui-img-photo"] { margin-left: @timeline-card-padding; position: relative; z-index: 1; transform: translateY(50%); }
        & > .ui-card {
            ._bg-var(body-bg); padding: @timeline-card-padding; display: block; position: relative;

            &:not([class*="ui-fill"]),a,button { ._color-var(black); }
        }
        & > .ui-img-photo {
            & + .ui-card { padding-top: ((@photo-img-default / 2) + round((@timeline-card-padding / 2))); }
            &-lg + .ui-card { padding-top: ((@photo-img-lg / 2) + round((@timeline-card-padding / 2))); }
            &-sm + .ui-card { padding-top: ((@photo-img-sm / 2) + round((@timeline-card-padding / 2))); }
            &-xs + .ui-card { padding-top: ((@photo-img-xs / 2) + round((@timeline-card-padding / 2))); }
        }
    }

    &:not(.ui-hide-h-lines) {
        & > li {
            &:before { content: ""; display: block; position: absolute; top: 50%; transform: translateY(-50%); z-index: 1; }
        }
    }

    &.ui-side-l {
        &:after { left: ((@timeline-steps-size - @timeline-line-size) / 2); }
        & > li {
            padding-left: @timeline-line-gap;

            &:before,&:after { left: 0; }
        }
    }
}

@media (@md-start) {
    .ui-timeline {
        &:not(.ui-side-l) {
            &:after { margin-left: -(@timeline-line-size / 2); left: 50%; }
            & > li {
                width: 50%;

                &:nth-child(2n+1) {
                    padding-right: @timeline-line-gap;

                    &:before { right: 0; }
                    &:after { right: -(@timeline-steps-size / 2); }
                }
                &:nth-child(2n+2) {
                    padding-left: @timeline-line-gap; left: 50%;

                    &:before { left: 0; }
                    &:after { left: -(@timeline-steps-size / 2); }
                }
            }
        }
    }
}
@media (@sm-finish) {
    .ui-timeline {
        &:after { left: ((@timeline-steps-size - @timeline-line-size) / 2); }

        & > li {
            padding-left: @timeline-line-gap;

            &:before,&:after { left: 0; }
        }
    }
}