
table {
	col {
		// width: 123px;
	}

	tr {
		height: 25px;
	}
}

.xl-table {
	position: absolute;
	top: 40px;
	left: 40px;
	font-family: 'Helvetica Neue';
	font-size: 13px;
	color: #333;
	--tbl-border-color: @table_border;
	--tbl-border-style: solid;
	--tbl-border-width: 1px;

	&.temp-0 {
		top: 40px;
		left: 40px;
	}

	&.selected:after {
		content: "";
		position: absolute;
		top: -2px;
		left: -2px;
		right: -2px;
		bottom: -2px;
		box-shadow: 0 0 0 1px #3583d0aa;
	}

	// &:before {
	// 	content: "";
	// 	display: block;
	// 	position: absolute;
	// 	top: 100%;
	// 	left: 100%;
	// 	height: 40px;
	// 	width: 40px;
	// }

	&.alt-row-bg .tbl-root {
		.tbl-body {
			> div {
				&:nth-child(2) {
					tr:nth-child(even) {
						background-color: var(--alt-row-color);
					}
				}
			}
		}
	}

	.table-title {
		position: relative;
		padding: 6px 0 7px;
		text-align: center;
		font-size: 18px;
		font-weight: 500;

		&.title-outline:before {
			display: block;
		}

		&:before {
			display: none;
			content: "";
			position: absolute;
			top: calc( var(--tbl-border-width) / -2 );
			left: calc( var(--tbl-border-width) / -2 );
			right: calc( var(--tbl-border-width) / -2 );
			bottom: calc( var(--tbl-border-width) / -2 );
			border-color: var(--tbl-border-color);
			border-style: var(--tbl-border-style);
			border-width: var(--tbl-border-width);
			border-bottom: 0;
			z-index: 2;
			pointer-events: none;
		}
	}

	.table-caption {
		position: absolute;
		top: 100%;
		left: 0;
		right: 0;
		padding: 3px 0;
		text-align: center;
		caption-side: bottom;
		margin: 5px 0 0;
		font-size: 15px;
		border: 1px solid transparent;

		&.active {
			border-color: #39f;
		}
	}

	.tbl-root {
		position: relative;
		display: flex;
		flex-direction: column;
		padding: 1px 0 0 1px;

		&:before {
			content: "";
			position: absolute;
			top: calc( var(--tbl-border-width) / -2 );
			left: calc( var(--tbl-border-width) / -2 );
			right: calc( calc( var(--tbl-border-width) / -2 ) + 1px);
			bottom: calc( calc( var(--tbl-border-width) / -2 ) + 1px);
			border-color: var(--tbl-border-color);
			border-style: var(--tbl-border-style);
			border-width: var(--tbl-border-width);
			z-index: 2;
			pointer-events: none;
		}

		.tbl-col-head {
			display: flex;
			flex-direction: row;

			> div {
				&:nth-child(1) {
					position: relative;
					z-index: 1;
				}

				&:nth-child(2) {
					flex: 1;
					overflow: hidden;
				}
			}
		}

		.tbl-body {
			position: relative;
			z-index: 1;
			flex: 1;
			display: flex;
			flex-direction: row;
			overflow: hidden;

			> div {
				&:nth-child(1) {
					position: relative;
					z-index: 2;
				}

				&:nth-child(2) {
					position: relative;
					flex: 1;
					z-index: 1;
					overflow: auto;

					td:last-child {
						--border-width: 0 0 1px 0;
					}

					td:last-child {
						--border-width: 1px 0 0 0;
					}
				}

				tr:last-child {
					height: 24px;

					td {
						--border-width: 1px 1px 0 0;
					}
				}
			}
		}

		.tbl-col-foot {
			display: flex;
			flex-direction: row;
			overflow: hidden;
			padding-top: 1px;

			> div {
				position: relative;

				&:nth-child(1) {
					z-index: 1;
				}

				&:nth-child(2) {
					flex: 1;
				}

				tr:first-child td {
					--border-width: 1px 1px 1px 0;
				}
			}
		}
	}

	table {
		position: relative;
		width: 0;
		table-layout: fixed;
	}

	th,
	td {
		position: relative;
		padding: 1px 7px 1px 5px;
		vertical-align: middle;
		width: 90px;
		--border-color: @table_border @table_border @table_border @table_border;
		--border-width: 0 1px 1px 0;
		--border-style: solid solid solid solid;

		> div {
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
		}

		&.active {
			color: transparent;
		}

		&:before {
			content: "";
			pointer-events: none;
			position: absolute;
			top: -1px;
			left: -1px;
			right: 0;
			bottom: 0;
			border-color: var(--border-color);
			border-width: var(--border-width);
			border-style: var(--border-style);
		}

		&[style*="--border"]:before {
			z-index: 2;
		}

		&[t="s"] { }
		&[t="z"],
		&[t="n"] {
			// width: 50px;
			text-align: right;
			// padding-left: 17px;
			// padding-right: 7px;
		}
		&[f] {
			&:after {
				content: "";
				position: absolute;
				bottom: 0;
				right: 0;
				width: 0;
				height: 0;
				border-bottom: 7px solid rgba(255,0,0,.5);
				border-left: 7px solid transparent;
			}
		}

		&.bold      { font-weight: bold; }
		&.italic    { font-style: italic; }
		&.underline { text-decoration: underline; }
		&.strike    { text-decoration: line-through; }
		&.underline.strike { text-decoration: underline line-through; }

		&.superscript  { font-size: smaller; vertical-align: super; }
		&.subscript    { font-size: smaller; vertical-align: sub; }

		&.top     { vertical-align: top; }
		&.bottom  { vertical-align: bottom; }
		&.center  { text-align: center; }
		&.right   { text-align: right; }
		&.justify { text-align: justify; text-align-last: justify; }
	}

	sup {
		font-size: smaller;
		vertical-align: super;
	}

	sub {
		font-size: smaller;
		vertical-align: sub;
	}

	&.hide-hg-lines .tbl-root .tbl-body div:nth-child(2) {
		th, td { border-bottom-color: inherit; }
	}

	&.hide-vg-lines .tbl-root .tbl-body div:nth-child(2) {
		th, td { border-right-color: inherit; }
	}

	&.hide-hgh-lines .tbl-root .tbl-body div:nth-child(1) {
		th, td { border-bottom-color: inherit; }
	}

	&.hide-vgb-lines .tbl-root .tbl-col-head > div:nth-child(n) {
		table, th, td { border-right-color: inherit; }
	}

	&.hide-vgf-lines .tbl-root .tbl-col-foot > div:nth-child(n) {
		table, th, td { border-right-color: inherit; }
	}
}
