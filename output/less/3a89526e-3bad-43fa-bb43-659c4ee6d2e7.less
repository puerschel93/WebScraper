@home-cta-margin-top:                   75px;
@home-container-padding-bottom:         100px;
@home-container-padding-top-mobile:     50px;
@home-container-padding-bottom-mobile:  50px;

.node-type-homepage {

    .ds-slider {
        height: 700px;

        .arrow {
            bottom: 30px;
        }

        @media (max-width: @screen-md-max) {
            height: 600px;
        }

        @media (max-width: @screen-sm-max) {
            height: 100%;
        }

        .flexslider {

            .flex-viewport {

                &:after {
                    content: ' ';
                    position: absolute;
                    display: block;
                    width: 100%;
                    height: 100%;
                    top: 0;
                    left: 0;
                    background-color: @color-black;
                    opacity: 0.2;
                }
            }
        }

        .flex-control-nav {
            position: relative;
            margin: 0 auto;
            padding: 0 15px;
            max-width: @container-large-desktop;
            left: 0;
            bottom: 90px;
            text-align: left;

            @media (max-width: @screen-md-max) {
                max-width: @container-desktop;
            }

            @media (max-width: @screen-sm-max) {
                max-width: @container-tablet;
                bottom: 80px;
            }
        }

        .ds-intro {
            position: absolute;
            width: 100%;
            left: 0%;
            bottom: 180px;
            color: @color-white;

            @media (max-width: @screen-xs-max) {
                bottom: 90px;
            }

            h1 {
                max-width: 380px;
                line-height: 60px;
                text-shadow: 0 2px 4px fade(@color-black, 50%);

                @media (max-width: @screen-xs-max) {
                    margin-bottom: 0;
                    line-height: 48px;
                }
            }

            h5 {
                max-width: 450px;
                text-shadow: 0 2px 4px fade(@color-black, 50%);

                @media (max-width: @screen-xs-max) {
                    .h6();
                    margin-top: 0;
                    line-height: 1.5;
                }
            }

            .container {
                margin: 0 auto;
                padding-top: 0;
                padding-bottom: 0;
                max-width: @container-large-desktop;
            }
        }
    }

    .ds-featured-content {

        .container {
            margin: 0 auto;
            padding-top: 120px;
            padding-bottom: 120px;
            max-width: 800px;

            @media (max-width: @screen-xs-max) {
                padding-top: 50px;
                padding-bottom: 50px;
            }

            .field-name-field-featured-text .field-item {

                @media (max-width: @screen-xs-max) {
                    .h4();
                }
            }
        }
    }

    .ds-products {

        .container {
            padding-bottom: @home-container-padding-bottom;

            @media (max-width: @screen-xs-max) {
                padding-top: @home-container-padding-top-mobile;
                padding-bottom: @home-container-padding-bottom-mobile;
            }

            h4:before {

                @media (max-width: @screen-xs-max) {
                    display: none;
                }
            }
        }

        li {

            img {
                width: 100%;
            }

            h4 {
                margin-top: 20px;
            }

            a {
                color: @color-white;
            }
        }

        .cta {

            @media (max-width: @screen-xs-max) {
                margin-top: 25px;
            }
        }
    }

    .ds-our-services {

        .container {
            padding-top: 40px;
            padding-bottom: 70px;

            @media (max-width: @screen-xs-max) {
                padding-top: @home-container-padding-top-mobile;
                padding-bottom: @home-container-padding-bottom-mobile;
            }

            & > .container {
                padding-bottom: 10px;
                width: 100%;

                @media (max-width: @screen-sm-max) {
                    padding-bottom: 40px;
                    padding-top: 20px;
                }

                @media (max-width: @screen-xs-max) {
                    padding-top: 0;
                    padding-bottom: 20px;
                }
            }
        }

        .view-content {

            .views-field {
                min-height: 170px;

                @media (max-width: @screen-sm-max) {
                    min-height: 150px;
                }

                @media (max-width: @screen-xs-max) {
                    margin-bottom: 32px;
                    min-height: auto;
                }

                &:before {
                    content: ' ';
                    display: block;
                    margin-bottom: 12px;
                    width: 25px;
                    height: 2px;
                    background-color: @color-blue-dark;
                }

                .field-content {
                    max-width: 265px;
                    font-size: 18px;
                }
            }
        }

        .cta {
            position: relative;
            margin-top: 0;
            top: -30px;

            @media (max-width: @screen-xs-max) {
                top: 0;
            }
        }
    }

    .ds-clients {

        .container {
            padding-top: 120px;
            padding-bottom: 120px;

            @media (max-width: @screen-xs-max) {
                padding-top: 60px;
                padding-bottom: 60px;
            }

            .row {

                @media (min-width: @screen-md-min) {
                    padding: 0 80px;
                }
            }
        }
    }

    .flex-direction-nav {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 115%;
        .translate(-50%, -50%);

        @media (max-width: 1366px) {
            width: 100%;
        }
    }

    .cta {
        position: relative;
        margin-top: @home-cta-margin-top;

        @media (max-width: @screen-xs-max) {
            top: 0;
            margin-top: @home-cta-margin-top - 40px;
        }
    }
}

// 100% height slider on mobile
body.node-type-homepage {
    height: 100%;

    // Hide default footer, template is inserted as part of content on the home page
    // to allow for the 100% height hero slider to work properly
    & > footer {
        display: none;
    }

    // Apply 100% height to all nested elements up until the hero slider
    & > .container-fluid {
        height: 100%;

        & > .row {
            height: 100%;

            & > section {
                height: 100%;

                & > .normal_page {
                  height: 100%;
                }

                .region-content {
                    height: 100%;

                    & > div {
                        height: 100%;

                        & > section {
                            height: 100%;

                            & > .node-homepage {
                                height: 100%;
                            }
                        }
                    }
                }
            }
        }
    }
}

// This section is being reused in the single Product pages
.ds-projects {

    .container {
        padding-bottom: @home-container-padding-bottom;

        @media (max-width: @screen-xs-max) {
            padding-top: @home-container-padding-top-mobile;
            padding-bottom: @home-container-padding-bottom-mobile;
        }
    }

    .views-row {
        background-color: @color-white;

        img {
            width: 100%;
        }

        h4 {
            margin-top: 26px;

            @media (max-width: @screen-xs-max) {
                margin-top: 16px;
            }
        }

        a {
            color: @color-grey-dark;
        }

        .col-text {
            padding: 40px 65px 40px 30px;
            min-height: 215px;

            @media (max-width: @screen-xs-max) {
                padding: 28px 45px 28px 25px;
                min-height: 170px;
            }
        }
    }
}
