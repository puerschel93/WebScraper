@import "variables.less";
@import "sprite.less";

// Global settings

body .container-fluid {
	font-family: 'Merriweather Sans', 'sans-serif';
	padding: 0px;
	h1, h2, h3 {
		text-transform : uppercase;
		font-family: 'Lato', 'sans-serif';
		font-weight: bold;
	}
	h1 {
		font-size: 3.5em;
	}
	h2 {
		color          : @grey;
		margin-bottom  : .5em;
	}
	h3 {
		color          : #BE1627;
		margin-bottom  : .5em;
		font-weight    : 100;
	}
	// separator – below subtitles and plugins last paragraph 
	h2, .cms_plugin > p:last-child, .separator {
		&:after {
			color       : black;
			content     : "–";
			display     : block;
			line-height : 0em;
			margin-top  : .4em;
			font-size   : 25px;
			font-family: 'Merriweather Sans', sans-serif;
			font-weight: normal;
		}
	}
	.separator { margin-bottom: 20px;}
	// button
	.btn {
		border-radius    : 0px;
		text-transform   : uppercase;
		font-weight      : bold;
		background-color : @grey;
		color            : white;
	}
	.hint {
		color : @grey;
	}
}

// inside the content block
body > .container-fluid {
		transition-property: opacity;
		transition-duration: 1s;
		// disable selection
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	&:not(.loading) {
		opacity: 1 !important;
	}
	&.loading {
		opacity: 0;}

	> .body {
		background-color: #fff;
		margin-bottom   : 100px;
		padding-top     : @margin_under_header;
		.container {
			padding-bottom: 20px;
			padding-top: 5px;
		}
		// ----------------------------------------------
		// FIRST PAGE
		.first-page {
			transition-property : height;
			transition-duration :.25s;
			text-align          : center;
			background-color    : @grey;
			padding-top         : 80px;
			color               : white;
			position            : relative;
			z-index             : 2; // upper the header for the shadow
			box-shadow          : 0px 0px 20px rgba(0,0,0, .2);
			margin-top          : -@margin_under_header; // remove the margin-top set above
			margin-bottom       : 100px;
			img {margin-bottom: 40px;}
			p {
				margin-bottom : 0px;
				font-size     : 2em;
				&:last-of-type { // underline for last sentence
					display       : inline-block;
					border-bottom : 1px solid rgba(255,255,255, .3);
					font-family: 'Lato', 'sans-serif';
					font-weight: 300;
				}
				&:after {content:none;} // remove separator
			}
			/* FLIPPER */
			.flip-container {
				-webkit-perspective : 1000;
				-moz-perspective    : 1000;
				-ms-perspective     : 1000;
				-o-perspective      : 1000;
				perspective         : 1000;
				transform-style: preserve-3d;
				-ms-transform-style: preserve-3d;
				/* flip the pane when hovered */
				&.hover {
					.back {
						-webkit-transform : rotateY(0deg) !important;
						-moz-transform    : rotateY(0deg) !important;
						-ms-transform     : rotateY(0deg) !important;
						-o-transform      : rotateY(0deg) !important;
						transform         : rotateY(0deg) !important;
					}
					.front {
						-webkit-transform : rotateY(180deg) !important;
						-moz-transform    : rotateY(180deg) !important;
						-ms-transform     : rotateY(180deg) !important;
						-o-transform      : rotateY(180deg) !important;
						transform         : rotateY(180deg) !important;
					}
				}
				&, .front, .back {
					width  : 98%;
					height : 60px;
					margin : 0 auto;
					background-color: @grey;
				}
				/* flip speed goes here */
				.flipper {
					transition              : 0.6s;
					-webkit-transform-style : preserve-3d;
					-moz-transform-style    : preserve-3d;
					-ms-transform-style     : preserve-3d;
					-o-transform-style      : preserve-3d;
					transform-style         : preserve-3d;
					position                : relative;
					/* hide back of pane during swap */
					.front, .back {
						transition              : 0.6s;
						-webkit-backface-visibility : hidden;
						-moz-backface-visibility    : hidden;
						-ms-backface-visibility     : hidden;
						-o-backface-visibility      : hidden;
						backface-visibility         : hidden;
						transform-style             : preserve-3d;
						-ms-transform-style         : preserve-3d;
						position                    : absolute;
						top                         : 0;
						left                        : 0;
					}
					/* front pane, placed above back */
					.front {
						z-index: 2;
						-webkit-transform : rotateY(0deg);
						-moz-transform    : rotateY(0deg);
						-ms-transform     : rotateY(0deg);
						-o-transform      : rotateY(0deg);
						transform         : rotateY(0deg);
					}
					/* back, initially hidden pane */
					.back {
						-webkit-transform : rotateY(-180deg);
						-moz-transform    : rotateY(-180deg);
						-ms-transform     : rotateY(-180deg);
						-o-transform      : rotateY(-180deg);
						transform         : rotateY(-180deg);
					}
				}
			}
			.title {
				// fix for ie9 and older
				.ie9 & {
					cursor: auto !important;
					.back {display: none !important;}
				}
				cursor: pointer;
				.front {
					h1 {margin:0;}
				}
				.back {
					font-size: 1.5em;
					.comment {
						color: #444343;
						opacity: .5;
					}
				}
				margin-bottom: 20px;
			}
			.scroll-indicator {
				width           : 100%;
				height          : 42px;
				cursor          : pointer;
				position        : absolute;
				bottom          : 20px;
				-webkit-animation : bounce 0.40s ease infinite alternate;
				-o-animation      : bounce 0.40s ease infinite alternate;
				-ms-animation     : bounce 0.40s ease infinite alternate;
				-moz-animation    : bounce 0.40s ease infinite alternate;
				animation         : bounce 0.40s ease infinite alternate;
				.sprite; .next-home;
				&:hover {.sprite; .next-home-hover;}
			}
		}
		// ----------------------------------------------
		.manifesto {
			ol, ul {
				padding: 0;
				width: 80%;
				margin: auto;
				counter-reset: bullet;
				li {
					counter-increment : bullet;
					margin-bottom     : 10px;
					padding-top       : 20px;
					list-style        : none;
					padding-left      : 60px;
					padding-right     : 60px;
					position          : relative;
					text-align        : left;

					&:before {
						font-family   : 'Dinl',sans-serif;
						position      : absolute;
						top           : 50%;
						left          : 0;
						margin-top    : -10px;
						content       : counter(bullet);
						background    : @blue_on_blue;
						color         : white;
						width         : 40px;
						padding       : 15px 0;
						text-align    : center;
						font-size     : 20px;
						line-height   : 10px;
						border-radius : 50%;
					}
				}
			}
		}
	}
}

// MOBILE

.first-page-little-title() {
	body .container-fluid h1 {
		font-size: 2em;
	}
	body > .container-fluid > .body .first-page p {
		font-size: 1.5em;
	}
}

@media (max-width: 640px) {
	.first-page-little-title;
}

@media (max-height: 600px) {
	body > .container-fluid > .body .first-page {
		padding-top:10px;
		img, .title {
			margin-bottom: 10px;
		}
	}
	.first-page-little-title;
}

// Mobile: remove the arrow on the home page #46
@media (max-height: 432px) {
	body > .container-fluid > .body .first-page .scroll-indicator {
		display: none;
	}
}

// Animation
@boucing-offset: -10px;

@-moz-keyframes    bounce{.mixin-bounce;}
@-o-keyframes      bounce{.mixin-bounce;}
@-ms-keyframes     bounce{.mixin-bounce;}
@-webkit-keyframes bounce{.mixin-bounce;}
@keyframes         bounce{.mixin-bounce;}
.mixin-bounce() {
	from {
		-moz-transform    : translateY(0);
		-o-transform      : translateY(0);
		-ms-transform     : translateY(0);
		-webkit-transform : translateY(0);
		transform         : translateY(0);
	}
	to {
		-moz-transform    : translateY(@boucing-offset);
		-o-transform      : translateY(@boucing-offset);
		-ms-transform     : translateY(@boucing-offset);
		-webkit-transform : translateY(@boucing-offset);
		transform         : translateY(@boucing-offset);
	}
}
