// Global

//----- 全局变量 -----//
//--- PC ---//
//@px: 1px;
//@width_min: 1200px;
@width_max: 1920px;

//--- Mobile ---//
@px: 0.01rem;
@width_min: 300px;
//@width_max: 750px;

@opacity: 0.75;
@scale: 2;
@time: 0.5s;

@color_1: #ffffff;
@color_2: #000000;

@src_image: '../image/';

//----- 全局函数 -----//
//--- 定位 ---//
// 定位
.position(@position:absolute,@inset:0) {
  position: @position;
  inset: @inset;
}

// 定位-绝对定位-Top
.position(@position:absolute,@top:0) when (@position=top) {
  position: absolute;
  inset: @top 0 auto 0;
}

// 定位-绝对定位-Left
.position(@position:absolute,@left:0) when (@position=left) {
  position: absolute;
  inset: 0 auto 0 @left;
}

// 定位-绝对定位-Right
.position(@position:absolute,@right:0) when (@position=right) {
  position: absolute;
  inset: 0 @right 0 auto;
}

// 定位-绝对定位-Bottom
.position(@position:absolute,@bottom:0) when (@position=bottom) {
  position: absolute;
  inset: auto 0 @bottom 0;
}

//--- 背景 ---//
// 背景
.bg(@image,@width:auto,@height:auto,@set_size:false) when (@set_size=false) {
  background-image: url('@{src_image}@{image}');
  background-size: @width @height;
  background-position: center;
  background-repeat: no-repeat;
}

// 背景（设置宽高）
.bg(@image,@width:auto,@height:auto,@set_size:false) when (@set_size=true) {
  width: @width;
  height: @height;
  background-image: url('@{src_image}@{image}');
  background-size: @width @height;
  background-position: center;
  background-repeat: no-repeat;
}

// 懒加载背景
.bgLazy(@width:auto,@height:auto,@set_size:false) when (@set_size=false) {
  background-repeat: no-repeat !important;
  background-position: center !important;
  background-size: @width @height !important;
}

// 懒加载背景（设置宽高）
.bgLazy(@width:auto,@height:auto,@set_size:false) when (@set_size=true) {
  width: @width;
  height: @height;
  background-repeat: no-repeat !important;
  background-position: center !important;
  background-size: @width @height !important;
}

// 径向渐变
//@style: transparent 0%, rgba(50, 41, 24, 1) 30%, url('') 70%, transparent 100%;
//@config_1: ~'1 / 1 / 0' stretch;
//@config_2: ~'', url('') no-repeat center;
.gradientLinear(@deg:0deg,@style,@config:~'') {
  background: -webkit-linear-gradient(@deg, @style) @config;
  background: -moz-linear-gradient(@deg, @style) @config;
  background: -o-linear-gradient(@deg, @style) @config;
  background: -ms-linear-gradient(@deg, @style) @config;
  background: linear-gradient(@deg, @style) @config;
}

// 圆形渐变
//@style: transparent 0%, rgba(50, 41, 24, 1) 30%, url('') 70%, transparent 100%;
//@config_1: ~'1 / 1 / 0' stretch;
//@config_2: ~'', url('') no-repeat center;
.gradientRadial(@style,@config:~'') {
  background: -webkit-radial-gradient(@style) @config;
  background: -moz-radial-gradient(@style) @config;
  background: -o-radial-gradient(@style) @config;
  background: -ms-radial-gradient(@style) @config;
  background: radial-gradient(@style) @config;
}

//--- 文案 ---//
// 隐藏文案
.fontHidden() {
  font-family: a, sans-serif;
  line-height: 0;
  color: transparent;
  font-size: 0;
  text-shadow: none;
}

// 文案
.font(@align:initial,@height:1,@color:@color_2,@size:12*@px,@set_bold:false) when (@set_bold=false) {
  text-align: @align;
  line-height: @height;
  color: @color;
  font-size: @size;
}

// 文案（加粗）
.font(@align:initial,@height:1,@color:@color_2,@size:12*@px,@set_bold:false) when (@set_bold=true) {
  text-align: @align;
  line-height: @height;
  color: @color;
  font-size: @size;
  font-weight: 600;
}

// 文案渐变
.fontClip(@deg:0deg,@style,@config:~'') {
  .gradientLinear(@deg, @style, @config);
  -webkit-background-clip: text;
  color: transparent !important;
}

// 文案阴影
.fontShadow(@style:0 0 20*@px fade(@color_2,10)) {
  text-shadow: @style;
}

// 文案间距
.fontSpacing(@width) {
  text-indent: @width;
  letter-spacing: @width;
}

// 英文和数字换行
.wordBreak() {
  word-break: break-all;
  word-wrap: break-word;
}

// 文案省略
.ellipsis(@line:1) when (@line=1) {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

// 文案省略(多行)
.ellipsis(@line:1) when (@line>1) {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: @line;
  -webkit-box-orient: vertical;
  text-overflow: ellipsis;
  word-wrap: break-word;
}

// 禁止选中文案
.noSelectText() {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -o-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

// 输入框文案颜色
.inputPlaceholder(@color) {
  input::-webkit-input-placeholder,
  textarea::-webkit-input-placeholder {
    color: @color;
  }

  input:-moz-placeholder,
  textarea:-moz-placeholder {
    color: @color;
  }

  input:-ms-input-placeholder,
  textarea:-ms-input-placeholder {
    color: @color;
  }
}

//--- 边框 ---//
// 边框
.border(@slice,@width,@image) {
  border-width: @width;
  border-style: solid;
  border-image-source: url('@{src_image}@{image}');
  border-image-repeat: round;
  border-image-slice: @slice;
  border-image-outset: 0;
}

// 渐变边框
.borderGradientLinear(@width,@deg,@style,@config) {
  border-width: @width;
  border-style: solid;
  border-image: -webkit-linear-gradient(@deg, @style) @config;
  border-image: -moz-linear-gradient(@deg, @style) @config;
  border-image: -o-linear-gradient(@deg, @style) @config;
  border-image: -ms-linear-gradient(@deg, @style) @config;
  border-image: linear-gradient(@deg, @style) @config;
}

//--- 滚动条 ---//
// 设置滚动条
.scroll(@color,@hoverColor,@bgColor,@size:10*@px) {
  &::-webkit-scrollbar {
    width: @size;
    height: @size;
  }

  &::-webkit-scrollbar-thumb {
    min-width: 20*@px;
    min-height: 20*@px;
    background-color: @color;
    background-clip: padding-box;
    border-radius: @size*0.5;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: @hoverColor;
  }

  &::-webkit-scrollbar-track-piece {
    background-color: @bgColor;
  }
}

// 隐藏滚动条
.hideScroll() {
  overflow: -moz-scrollbars-none;
  -ms-overflow-style: none;
  &::-webkit-scrollbar {
    width: 0 !important;
  }
}

//--- 阴影 ---//
// 阴影
.shadow(@style:0 0 10*@px fade(@color_2,10),@inset:false) when (@inset=false) {
  -webkit-box-shadow: @style;
  -moz-box-shadow: @style;
  -o-box-shadow: @style;
  -ms-box-shadow: @style;
  box-shadow: @style;
}

// 内阴影
.shadow(@style:0 0 10*@px fade(@color_2,10),@inset:false) when (@inset=true) {
  -webkit-box-shadow: inset @style;
  -moz-box-shadow: inset @style;
  -o-box-shadow: inset @style;
  -ms-box-shadow: inset @style;
  box-shadow: inset @style;
}

//--- 动画 ---//
// 偏移原点
.transformOrigin(@x:center,@y:center) {
  -webkit-transform-origin: @x @y;
  -moz-transform-origin: @x @y;
  -o-transform-origin: @x @y;
  -ms-transform-origin: @x @y;
  transform-origin: @x @y;
}

// 偏移
.transform(@style:translate(0,0)) {
  -webkit-transform: @style;
  -moz-transform: @style;
  -o-transform: @style;
  -ms-transform: @style;
  transform: @style;
}

// 过度
.transition(@style:all @time) {
  -webkit-transition: @style;
  -moz-transition: @style;
  -o-transition: @style;
  -ms-transition: @style;
  transition: @style;
}

// 自动过渡
.autoTransition(@x:0,@y:0,@time:1s,@delay:~'') {
  @transition: opacity @time @delay, transform @time @delay;
  opacity: 0;
  .transform(translate(@x, @y));
  .transition(@transition);
  pointer-events: none;
}

// 开启自动过渡
.autoTransitionActive() {
  opacity: 1 !important;
  .transform(translate(0, 0)) !important;
  pointer-events: all !important;
}

// 创建动画
.creatAnimation(@am_name,@am_fun) {
  @keyframes @am_name {
    @am_fun();
  }

  @-moz-keyframes @am_name {
    @am_fun();
  }

  @-webkit-keyframes @am_name {
    @am_fun();
  }

  @-o-keyframes @am_name {
    @am_fun();
  }
}

// 动画
//@style: 'animation' 3s ease infinite forwards
.animation(@style) {
  -webkit-animation: @style;
  -moz-animation: @style;
  -o-animation: @style;
  -ms-animation: @style;
  animation: @style;
}

// 3D效果
.preserve(@perspective:800*@px,@x:center,@y:center) {
  -webkit-transform-style: preserve-3d;
  -moz-transform-style: preserve-3d;
  -o-transform-style: preserve-3d;
  -ms-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-perspective: @perspective;
  -moz-perspective: @perspective;
  -o-perspective: @perspective;
  -ms-perspective: @perspective;
  perspective: @perspective;
  perspective-origin: @x @y;
}

// 隐藏翻转后的背景
.visibility() {
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
  -o-backface-visibility: hidden;
  -ms-backface-visibility: hidden;
  backface-visibility: hidden;
}

//--- 其他 ---//
// 抵消居中法
.center() {
  .position(absolute, 50% auto auto 50%);
  .transform(translate(-50%, -50%));
}

// 防止内边距撑开盒子
.borderBox() {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

// 滤镜
//@style_1: blur(px) 高斯模糊
//@style_2: brightness(%) 明暗
//@style_3: contrast(%) 对比度
//@style_4: drop-shadow(h-shadow v-shadow blur spread color) 阴影
//@style_5: grayscale(%) 灰色
//@style_6: hue-rotate(deg) 色相旋转
//@style_7: invert(%) 反转图像
//@style_8: opacity(%) 透明度
//@style_9: saturate(%) 饱和度
//@style_10: sepia(%) 深褐色
//@style_11: url() XML
.filter(@style) {
  -webkit-filter: @style;
  -moz-filter: @style;
  -o-filter: @style;
  -ms-filter: @style;
  filter: @style;
}

//--- 精灵图 ---//
@sprite_width: 0;
@sprite_height: 0;
.spritePublic(@set_scale:false) when (@set_scale=false) {
  .bg('public.png', @sprite_width, @sprite_height);
}

.spritePublic(@set_scale:false) when (@set_scale=true) {
  .bg('public.png', @sprite_width*@scale, @sprite_height*@scale);
}
