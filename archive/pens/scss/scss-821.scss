1//2//Functiontocreateanoptimizedsvgurl3//4@functionsvg-url($svg){5&nbsp;&nbsp;//6&nbsp;&nbsp;//Addmissingnamespace7&nbsp;&nbsp;//8&nbsp;&nbsp;@ifnotstr-index($svg,xmlns){9&nbsp;&nbsp;&nbsp;&nbsp;$svg:str-replace($svg,'&lt;svg','&lt;svgxmlns="http://www.w3.org/2000/svg"');&nbsp;10&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;11&nbsp;&nbsp;//&nbsp;&nbsp;12&nbsp;&nbsp;//Chunkupstringinordertoavoid13&nbsp;&nbsp;//"stackleveltoodeep"error14&nbsp;&nbsp;//&nbsp;&nbsp;15&nbsp;&nbsp;$encoded:'';16&nbsp;&nbsp;$slice:2000;17&nbsp;&nbsp;$index:0;18&nbsp;&nbsp;$loops:ceil(str-length($svg)/$slice);19&nbsp;&nbsp;@for$ifrom1through$loops{20&nbsp;&nbsp;&nbsp;&nbsp;$chunk:str-slice($svg,$index,$index+$slice-1);21&nbsp;&nbsp;&nbsp;&nbsp;//22&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Encode(mayneedafewextrareplacements)